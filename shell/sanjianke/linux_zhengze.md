## bash是什么

- bash是一个命令处理器，运行在文本窗口中，并能执行用户直接输入的命令
- bash还能从文件中读取linux命令，称之为脚本
- bash支持通配符、管道、命令替换、条件判断等逻辑控制语句

### bash的特性

- 命令行展开

```
[root@chaogelinux ~]# echo {tom,bob,chaoge,jerry}
tom bob chaoge jerry

[root@chaogelinux ~]# echo chaoge{666,888}
chaoge666 chaoge888

[root@chaogelinux ~]# echo chaoge{1..5}
chaoge1 chaoge2 chaoge3 chaoge4 chaoge5

[root@chaogelinux ~]# echo chaoge{1..10..2}
chaoge1 chaoge3 chaoge5 chaoge7 chaoge9

[root@chaogelinux ~]# echo chaoge{01..10..2}
chaoge01 chaoge03 chaoge05 chaoge07 chaoge09
```

- 命令别名

```
alias,unalias
```

- 命令历史

```
history
!行号
!! 上一次的命令
```

- 快捷键

```
ctrl + a  移动到行首
ctrl + e  移动到行尾
ctrl + u  删除光标之前的字符
ctrl + k  删除光标之后的字符
ctrl + l  清空屏幕终端内容，同于clear
```

- 命令补全

```
tab键
补全
$PATH中存在的命令
```

- 文件路径补全

```
/opt/chaoge/linux_study
```

## Linux正则表达式

正则表达式：Regual Expression, REGEXP

由一类特殊字符及文本字符所编写的模式，其中有些字符不表示其字面意义，而是用于表示控制或通配的功能；

分两类：

基本正则表达式：`BRE`

扩展正则表达式：`ERE`

## 正则表达式的意义

- 处理大量的字符串
- 处理文本

通过特殊符号的辅助，可以让linux管理员快速过滤、替换、处理所需要的字符串、文本，让工作高效。

通常Linux运维工作，都是面临大量带有字符串的内容，如

- 配置文件
- 程序代码
- 命令输出结果
- 日志文件

且此类字符串内容，我们常会有特定的需要，查找出符合工作需要的特定的字符串，因此正则表达式就出现了

- 正则表达式是一套规则和方法
- 正则工作时以单位进行，一次处理一行
- 正则表达式化繁为简，提高工作效率
- linux仅受三剑客（sed、awk、grep）支持，其他命令无法使用

正则表达式应用非常广泛，应用在如Python、Java、Perl等，Linux下普通命令无法使用正则表达式的，只能使用三剑客。

**通配符是大部分普通命令都支持的，用于查找文件或目录，而正则表达式是通过三剑客命令在文件（数据流）中过滤内容的**

## Linux三剑客

文本处理工具，均支持正则表达式引擎

> grep：文本过滤工具，（模式：pattern）工具

> sed：stream editor，流编辑器；文本编辑工具

> awk：Linux的文本报告生成器（格式化文本），Linux上是gawk

### 正则表达式的分类

Linux三剑客主要分两类

- 基本正则表达式（BRE、basic regular expression）

```
BRE对应元字符有 ^$.[]*
```

- 扩展正则表达式（ERE、extended regular expression）

```
ERE在在BRE基础上，增加上 (){}?+| 等字符
```

### 基本正则表达式BRE集合

- 匹配字符
- 匹配次数
- 位置锚定

| 符号        | 作用                                                         |
| ----------- | ------------------------------------------------------------ |
| ^           | 尖角号，用于模式的最左侧，如 "^oldboy"，匹配以oldboy单词开头的行 |
| $           | 美元符，用于模式的最右侧，如"oldboy$"，表示以oldboy单词结尾的行 |
| ^$          | 组合符，表示空行                                             |
| .           | 匹配任意一个且只有一个字符，不能匹配空行                     |
| \           | 转义字符，让特殊含义的字符，现出原形，还原本意，例如`\.`代表小数点 |
| *           | 匹配前一个字符（连续出现）0次或1次以上 ，重复0次代表空，即匹配所有内容 |
| .*          | 组合符，匹配任意长度的任意字符                               |
| ^.*         | 组合符，匹配任意多个字符开头的内容                           |
| .*$         | 组合符，匹配以任意多个字符结尾的内容                         |
| [abc]       | 匹配[]集合内的任意一个字符，a或b或c，可以写[a-c]             |
| `[^abc]`    | 匹配除了^后面的任意字符，a或b或c，^表示对[abc]的取反         |
| `<pattern>` | 匹配完整的内容                                               |
| <或>        | 定位单词的左侧，和右侧，如`<chao>`可以找出"The chao ge"，缺找不出"yuchao" |

### 扩展正则表达式ERE集合

扩展正则必须用 grep -E 才能生效

| 字符   | 作用                                         |
| ------ | -------------------------------------------- |
| +      | 匹配前一个字符1次或多次，前面字符至少出现1次 |
| [:/]+  | 匹配括号内的":"或者"/"字符1次或多次          |
| ?      | 匹配前一个字符0次或1次，前面字符可有可无     |
| 竖线   | 表示或者，同时过滤多个字符串                 |
| ()     | 分组过滤，被括起来的内容表示一个整体         |
|        |                                              |
| a{n,m} | 匹配前一个字符最少n次，最多m次               |
| a{n,}  | 匹配前一个字符最少n次                        |
| a{n}   | 匹配前一个字符正好n次                        |
| a{,m}  | 匹配前一个字符最多m次                        |

Tip:

```
grep命令需要使用参数 -E即可支持正则表达式
egrep不推荐使用，使用grep -E替代
grep不加参数，得在特殊字符前面加"\"反斜杠，识别为正则
```